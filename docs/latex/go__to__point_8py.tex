\hypertarget{go__to__point_8py}{}\doxysection{scripts/go\+\_\+to\+\_\+point.py File Reference}
\label{go__to__point_8py}\index{scripts/go\_to\_point.py@{scripts/go\_to\_point.py}}


This file contains the node for controlling the motion of robot in the package rt2\+\_\+assignment1.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{go__to__point_8py_a36304a9f313b0579f7fc69fa01695524}{go\+\_\+to\+\_\+point.\+clbk\+\_\+odom}} (msg)
\begin{DoxyCompactList}\small\item\em \textquotesingle{}/odom\textquotesingle{} subscribtion callback. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_a31ee48e5cae36821049b572a96b7c8be}{go\+\_\+to\+\_\+point.\+change\+\_\+state}} (state)
\begin{DoxyCompactList}\small\item\em robot\textquotesingle{}s state changer \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_ac688bb56fa84763ea2edefc30cae032a}{go\+\_\+to\+\_\+point.\+normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em angle normalizer function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_a9c3011a3065fcbefcc1c5ad8c9979669}{go\+\_\+to\+\_\+point.\+fix\+\_\+yaw}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em fixing robot\textquotesingle{}s yaw function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_ac8579665c0fbf665f734476554fac37d}{go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em straight motion function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_a4a406386ca62830c19c93949e923f7bd}{go\+\_\+to\+\_\+point.\+fix\+\_\+final\+\_\+yaw}} (des\+\_\+yaw)
\begin{DoxyCompactList}\small\item\em fixing final orientation function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_ac2587220a4ac9c845bc9c5b0b45d5835}{go\+\_\+to\+\_\+point.\+done}} ()
\begin{DoxyCompactList}\small\item\em last step function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_a2203d17b7e563bee20ed4c988548df45}{go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point}} (goal)
\begin{DoxyCompactList}\small\item\em motion control function \end{DoxyCompactList}\item 
def \mbox{\hyperlink{go__to__point_8py_ab92bd6db1ec323a4d795ed6cb40aebe1}{go\+\_\+to\+\_\+point.\+main}} ()
\begin{DoxyCompactList}\small\item\em main function \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{go__to__point_8py_a91dbaab25e6080f6b5dbf82cac6ce75c}\label{go__to__point_8py_a91dbaab25e6080f6b5dbf82cac6ce75c}} 
{\bfseries go\+\_\+to\+\_\+point.\+position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{go__to__point_8py_a03b48b610dbd224a38eb226c1b2ba23d}\label{go__to__point_8py_a03b48b610dbd224a38eb226c1b2ba23d}} 
{\bfseries go\+\_\+to\+\_\+point.\+desired\+\_\+position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{go__to__point_8py_ae444f19eb2019982432760ace036ce03}\label{go__to__point_8py_ae444f19eb2019982432760ace036ce03}} 
int {\bfseries go\+\_\+to\+\_\+point.\+yaw\+\_\+} = 0
\item 
\mbox{\Hypertarget{go__to__point_8py_aa2d0ef255bcf5d5faf9ca2764730fb17}\label{go__to__point_8py_aa2d0ef255bcf5d5faf9ca2764730fb17}} 
int {\bfseries go\+\_\+to\+\_\+point.\+state\+\_\+} = 0
\item 
\mbox{\Hypertarget{go__to__point_8py_a57b4090d0abcbcf0bfa2bcb9329d3036}\label{go__to__point_8py_a57b4090d0abcbcf0bfa2bcb9329d3036}} 
{\bfseries go\+\_\+to\+\_\+point.\+pub\+\_\+} = None
\item 
\mbox{\Hypertarget{go__to__point_8py_a67f95834f0959feb3facd17bc7fa2b38}\label{go__to__point_8py_a67f95834f0959feb3facd17bc7fa2b38}} 
int {\bfseries go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+} = math.\+pi / 9
\item 
\mbox{\Hypertarget{go__to__point_8py_af74ccf49164d0478ca8343e2031d5813}\label{go__to__point_8py_af74ccf49164d0478ca8343e2031d5813}} 
int {\bfseries go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+2\+\_\+} = math.\+pi / 90
\item 
\mbox{\Hypertarget{go__to__point_8py_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}\label{go__to__point_8py_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}} 
float {\bfseries go\+\_\+to\+\_\+point.\+dist\+\_\+precision\+\_\+} = 0.\+1
\item 
\mbox{\Hypertarget{go__to__point_8py_a524106fc7667a0927951dfd89d52d6a7}\label{go__to__point_8py_a524106fc7667a0927951dfd89d52d6a7}} 
float {\bfseries go\+\_\+to\+\_\+point.\+kp\+\_\+a} = -\/3.\+0
\item 
\mbox{\Hypertarget{go__to__point_8py_a7bc498652ca66932e704e738b50c297b}\label{go__to__point_8py_a7bc498652ca66932e704e738b50c297b}} 
float {\bfseries go\+\_\+to\+\_\+point.\+kp\+\_\+d} = 0.\+2
\item 
\mbox{\Hypertarget{go__to__point_8py_acb4e14986fafe5cb73bb8ad0c178869d}\label{go__to__point_8py_acb4e14986fafe5cb73bb8ad0c178869d}} 
float {\bfseries go\+\_\+to\+\_\+point.\+ub\+\_\+a} = 0.\+6
\item 
\mbox{\Hypertarget{go__to__point_8py_afecad4058844db05d8321199e25b4498}\label{go__to__point_8py_afecad4058844db05d8321199e25b4498}} 
float {\bfseries go\+\_\+to\+\_\+point.\+lb\+\_\+a} = -\/0.\+5
\item 
\mbox{\Hypertarget{go__to__point_8py_a16c473b9e717200c483d18e66b48152a}\label{go__to__point_8py_a16c473b9e717200c483d18e66b48152a}} 
float {\bfseries go\+\_\+to\+\_\+point.\+ub\+\_\+d} = 0.\+6
\item 
\mbox{\Hypertarget{go__to__point_8py_a64583fad586a7212c40613ec1c3e7c69}\label{go__to__point_8py_a64583fad586a7212c40613ec1c3e7c69}} 
{\bfseries go\+\_\+to\+\_\+point.\+act\+\_\+s} = None
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file contains the node for controlling the motion of robot in the package rt2\+\_\+assignment1. 

\begin{DoxyAuthor}{Author}
Juri Khanmeh 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
25/09/2021
\end{DoxyDate}
Subscribes to\+: ~\newline
 ° /odom

Publishes to\+: ~\newline
 ° /cmd\+\_\+vel

Service \+: ~\newline
 ° /go\+\_\+to\+\_\+point

Description \+:

This node controls the motion of the robot. In order to reach a position there are 3 states\+:
\begin{DoxyEnumerate}
\item fix\+\_\+yaw
\item go\+\_\+straight\+\_\+ahead
\item fix\+\_\+final\+\_\+yaw 
\end{DoxyEnumerate}

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{go__to__point_8py_a31ee48e5cae36821049b572a96b7c8be}\label{go__to__point_8py_a31ee48e5cae36821049b572a96b7c8be}} 
\index{go\_to\_point.py@{go\_to\_point.py}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}



robot\textquotesingle{}s state changer 


\begin{DoxyParams}{Parameters}
{\em state} & is the integer number which represents the new state. \\
\hline
{\em state\+\_\+} & previous state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
print a message announcing the current state.
\end{DoxyReturn}
This function changes the state variable and confirms it in a message. \mbox{\Hypertarget{go__to__point_8py_a36304a9f313b0579f7fc69fa01695524}\label{go__to__point_8py_a36304a9f313b0579f7fc69fa01695524}} 
\index{go\_to\_point.py@{go\_to\_point.py}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



\textquotesingle{}/odom\textquotesingle{} subscribtion callback. 


\begin{DoxyParams}{Parameters}
{\em msg} & an odometry variable which contains the position and the orientation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the current position\+\_\+ and orientation of the robot.
\end{DoxyReturn}
This function return a position and yaw after converting the orientation angles from quaternion to euler. \mbox{\Hypertarget{go__to__point_8py_ac2587220a4ac9c845bc9c5b0b45d5835}\label{go__to__point_8py_ac2587220a4ac9c845bc9c5b0b45d5835}} 
\index{go\_to\_point.py@{go\_to\_point.py}!done@{done}}
\index{done@{done}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



last step function 

This function sets all the robot\textquotesingle{}s velocities to zero for making the robot stop after reaching the requested target. ~\newline
 \mbox{\Hypertarget{go__to__point_8py_a4a406386ca62830c19c93949e923f7bd}\label{go__to__point_8py_a4a406386ca62830c19c93949e923f7bd}} 
\index{go\_to\_point.py@{go\_to\_point.py}!fix\_final\_yaw@{fix\_final\_yaw}}
\index{fix\_final\_yaw@{fix\_final\_yaw}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{fix\_final\_yaw()}{fix\_final\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+final\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+yaw }\end{DoxyParamCaption})}



fixing final orientation function 


\begin{DoxyParams}{Parameters}
{\em des\+\_\+yaw} & is the target yaw. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL
\end{DoxyReturn}
This function is for controlling the final orientation of the robot. The angular velocity is set according to the yaw error. \mbox{\Hypertarget{go__to__point_8py_a9c3011a3065fcbefcc1c5ad8c9979669}\label{go__to__point_8py_a9c3011a3065fcbefcc1c5ad8c9979669}} 
\index{go\_to\_point.py@{go\_to\_point.py}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}



fixing robot\textquotesingle{}s yaw function 


\begin{DoxyParams}{Parameters}
{\em des\+\_\+pos} & is destination position of the robot. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL.
\end{DoxyReturn}
This function fixes the yaw of the robot according to the destination position. So the robot can go straight to the destination point. \mbox{\Hypertarget{go__to__point_8py_ac8579665c0fbf665f734476554fac37d}\label{go__to__point_8py_ac8579665c0fbf665f734476554fac37d}} 
\index{go\_to\_point.py@{go\_to\_point.py}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}



straight motion function 


\begin{DoxyParams}{Parameters}
{\em des\+\_\+pos} & is the destination position. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL
\end{DoxyReturn}
This function is for making the robot move straight towards the destination. But also it sets some angular velocity according the yaw error. \mbox{\Hypertarget{go__to__point_8py_a2203d17b7e563bee20ed4c988548df45}\label{go__to__point_8py_a2203d17b7e563bee20ed4c988548df45}} 
\index{go\_to\_point.py@{go\_to\_point.py}!go\_to\_point@{go\_to\_point}}
\index{go\_to\_point@{go\_to\_point}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{go\_to\_point()}{go\_to\_point()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}



motion control function 


\begin{DoxyParams}{Parameters}
{\em goal} & is the target position that the robot must reach. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
feedback stats.
\end{DoxyReturn}
This function changes the robot state according to the current position of the robot and the target position. The objective of this function is to make the robot reach a specific point. \mbox{\Hypertarget{go__to__point_8py_ab92bd6db1ec323a4d795ed6cb40aebe1}\label{go__to__point_8py_ab92bd6db1ec323a4d795ed6cb40aebe1}} 
\index{go\_to\_point.py@{go\_to\_point.py}!main@{main}}
\index{main@{main}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



main function 


\begin{DoxyParams}{Parameters}
{\em null} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
null
\end{DoxyReturn}
This is the main function of go\+\_\+to\+\_\+point node It initializes the node, creates a \textquotesingle{}/cmd\+\_\+vel\textquotesingle{} publisher, \textquotesingle{}/odom\textquotesingle{} subscriber, \textquotesingle{}/go\+\_\+to\+\_\+point\textquotesingle{} simple action server. \mbox{\Hypertarget{go__to__point_8py_ac688bb56fa84763ea2edefc30cae032a}\label{go__to__point_8py_ac688bb56fa84763ea2edefc30cae032a}} 
\index{go\_to\_point.py@{go\_to\_point.py}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point.py@{go\_to\_point.py}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}



angle normalizer function 


\begin{DoxyParams}{Parameters}
{\em angle} & is the angle which we want to normalize it. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the normalized angle.
\end{DoxyReturn}
This function normalize the angle which is given in order to use the angle in the following process without errors. 